<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Резултат</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="/css/styles.css" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
<header>
    <nav th:replace="~{fragments/common::navbar}"></nav>
</header>
<div class="container">
    <div class="jumbotron">
        <h1>Резултат от вашето търсене</h1>

        <th:block th:if="${#arrays.length(products)} == 0">
            <p th:text="|Съжаляваме няма намерени резултати|" class="text-danger">
                <form th:method="get" th:action="@{/search}">
            <button class="btn btn-secondary" type="submit">Ново търсене</button>
        </form>
            </p>

        </th:block>

        <table th:if="${#arrays.length(products)} != 0" class="table table-condensed">
            <thead>
            <tr>
                <th>Заглавие</th>
                <th>Цена</th>
                <th>Категория</th>
                <th>Локация</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="p : ${products}" th:object="${p}">
                <td th:text="*{title}">John</td>
                <td th:text="*{price}">Doe</td>
                <td th:text="*{category.displayName}"></td>
                <td th:text="*{location}"></td>
                <td>
                    <form th:method="get" th:action="@{/products/view/{id}(id = *{id})}">
                        <input type="submit" th:value="|Виж повече|" class="btn btn-link nav-link text-secondary">
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<footer th:replace="~{fragments/common::footer}"></footer>
</body>
</html>